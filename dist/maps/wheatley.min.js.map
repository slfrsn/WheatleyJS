{"version":3,"names":[],"mappings":"","sources":["wheatley.min.js"],"sourcesContent":["!function(t){t.portals=function(o,n){var e=this,a=t(o),o=o,r={portalSize:200,restrictGun:!1,animatePortals:!0,highQuality:!0};e.settings={},e.init=function(){e.settings=t.extend({},r,n),t(\"body\").addClass(\"frsn-portals\"),1==e.settings.highQuality&&t(\"body\").addClass(\"high-quality\"),e.portalGun(\"init\"),t(\".frsn-portals\").on(\"click contextmenu\",function(n){return n.stopPropagation(),t(n.target).is(o,o+\" *\")?(\"click\"==n.type&&e.portal(\"create\",\"blue\",{x:n.pageX,y:n.pageY}),\"contextmenu\"==n.type&&e.portal(\"create\",\"orange\",{x:n.pageX,y:n.pageY}),!1):(e.portalGun(\"misfire\"),0==e.settings.restrictGun?!1:void 0)}),t(\".frsn-portals\").on(\"click contextmenu\",\".portal *\",function(o){return o.stopPropagation(),\"click\"==o.type&&(t(o.target).is(\"#blue-portal *\")?(e.portal(\"destroy\",\"blue\"),e.portalGun(\"fire\")):e.portalGun(\"misfire\")),\"contextmenu\"==o.type&&(t(o.target).is(\"#orange-portal *\")?(e.portal(\"destroy\",\"orange\"),e.portalGun(\"fire\")):e.portalGun(\"misfire\")),!1})},e.destroy=function(o){e.portalGun(\"destroy\"),e.portal(\"destroy\",\"blue\"),e.portal(\"destroy\",\"orange\"),t(\".frsn-portals\").off(\"click contextmenu\"),t(\".frsn-portals\").off(\"click contextmenu\",\".portal *\"),a.removeData(),o&&\"function\"==typeof o&&o()},e.portal=function(o,n,a,r){2==arguments.length?(a={x:0,y:0},r=function(){}):3==arguments.length&&(r=\"function\"==typeof a?a:function(){});var i=a.x,s=a.y;if(\"create\"==o){var l=1==e.settings.animatePortals?\"spin\":\"\",p='<div id=\"'+n+'-portal\" class=\"portal appear '+l+'\"><div class=\"darkest\"></div><div class=\"darker\"></div><div class=\"normal\"></div><div class=\"lighter\"></div><div class=\"lightest\"></div><div class=\"entrance\"></div></div>',u=e.getPortalRect(i,s);u.left<u.parent.left&&(i=u.parent.left+u.center.x),u.top<u.parent.top&&(s=u.parent.top+u.center.y),u.right>u.parent.right&&(i=u.parent.right-u.center.x),u.bottom>u.parent.bottom&&(s=u.parent.bottom-u.center.y);var c={width:e.settings.portalSize+\"px\",height:e.settings.portalSize+\"px\",top:s-e.settings.portalSize/2,left:i-e.settings.portalSize/2};if(t(\"#\"+n+\"-portal\").length){var d=t(\"#\"+n+\"-portal\");newPortal=d.clone(!0),d.removeClass(\"appear\").addClass(\"disappear\").before(newPortal).remove(),newPortal.css(c)}else t(p).appendTo(\"body\").css(c);e.portalGun(\"fire\")}if(\"destroy\"==o){var f=t(\"#\"+n+\"-portal\");f.addClass(\"disappear\"),f.one(\"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend\",function(){t(this).remove()})}r()},e.portalGun=function(o,n){var r=t(\"#portal-gun\");if(\"init\"==o){t('<div id=\"portal-gun\"></div>').appendTo(\"body\"),t(\"body\").addClass(\"disable-cursor\");var i=t(\"body\");1==e.settings.restrictGun&&(i=a),i.addClass(\"contain-portal-gun\"),t(\".frsn-portals\").on(\"mousemove\",\".contain-portal-gun, .contain-portal-gun *, .portal *\",function(o){e.portalGun(\"setActive\"),t(\"#portal-gun\").css({top:o.pageY-t(\"#portal-gun\").outerWidth()/4,left:o.pageX-t(\"#portal-gun\").outerWidth()/4})}),t(\".frsn-portals\").on(\"mouseout\",\".contain-portal-gun\",function(t){e.portalGun(\"setInactive\")})}(\"fire\"==o||\"misfire\"==o)&&(r.addClass(o),r.one(\"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend\",function(){t(this).removeClass(o)})),\"setActive\"==o&&t(\"body\").addClass(\"portal-gun-active\"),\"setInactive\"==o&&t(\"body\").removeClass(\"portal-gun-active\"),\"destroy\"==o&&(t(\".frsn-portals\").off(\"mousemove\",\".contain-portal-gun, .contain-portal-gun *, .portal *\"),t(\".frsn-portals\").off(\"mouseout\",\".contain-portal-gun\"),r.remove()),n&&\"function\"==typeof n&&n()},e.getPortalRect=function(t,o){var n={y:1.3*e.settings.portalSize/2,x:e.settings.portalSize/2},r={top:o-n.y,left:t-n.x,bottom:o+n.y,right:t+n.x,center:{y:n.y,x:n.x},parent:{top:a.offset().top,left:a.offset().left,bottom:a.offset().top+a.outerHeight(),right:a.offset().left+a.outerWidth()}};return r},e.option=function(t,o){return o?void(e.settings[t]=o):e.settings[t]},e.init()},t.fn.portals=function(o){return this.each(function(){if(void 0==t(this).data(\"portals\")){var n=new t.portals(this,o);t(this).data(\"portals\",n)}})}}(jQuery);"],"file":"wheatley.min.js","sourceRoot":"/source/"}